<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>一些MySQL命令 | 稚的小窝</title><meta name="author" content="稚"><meta name="copyright" content="稚"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="登录sql 123456mysql -h 127.0.0.1 -u &lt;用户名&gt; -p &lt;密码&gt;. #默认用户名&lt;root&gt;,-p 是密码，参数后边不需要空格mysql -D 所选择的数据库名 -h 主机名 -u 用户名 -pmysql&gt; exit #退出 使用 &quot;quit;&quot; 或 &quot;\q;&quot;一样的效果mysql&amp;gt"><meta property="og:type" content="article"><meta property="og:title" content="一些MySQL命令"><meta property="og:url" content="https://www.aboyzy.top/posts/c24675b4.html"><meta property="og:site_name" content="稚的小窝"><meta property="og:description" content="登录sql 123456mysql -h 127.0.0.1 -u &lt;用户名&gt; -p &lt;密码&gt;. #默认用户名&lt;root&gt;,-p 是密码，参数后边不需要空格mysql -D 所选择的数据库名 -h 主机名 -u 用户名 -pmysql&gt; exit #退出 使用 &quot;quit;&quot; 或 &quot;\q;&quot;一样的效果mysql&amp;gt"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://npm.elemecdn.com/aboyzy_blogstatic/img/202304021937406.webp"><meta property="article:published_time" content="2023-01-17T12:20:40.000Z"><meta property="article:modified_time" content="2024-06-15T08:22:52.997Z"><meta property="article:author" content="稚"><meta property="article:tag" content="MySQL"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://npm.elemecdn.com/aboyzy_blogstatic/img/202304021937406.webp"><link rel="shortcut icon" href="https://npm.elemecdn.com/aboyzy_blogstatic/img/%E5%A4%B4%E5%83%8F.webp"><link rel="canonical" href="https://www.aboyzy.top/posts/c24675b4"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://npm.elemecdn.com/@fortawesome/fontawesome-free@latest/css/all.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"mediumZoom",Snackbar:void 0,source:{justifiedGallery:{js:"https://npm.elemecdn.com/flickr-justified-gallery@latest/dist/fjGallery.min.js",css:"https://npm.elemecdn.com/flickr-justified-gallery@latest/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"一些MySQL命令",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-06-15 16:22:52"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://npm.elemecdn.com/aboyzy_blogstatic@1.0.1/css/custom.css" media="defer" onload='this.media="all"'><style>#toggle-sidebar{bottom:80px}</style><link rel="stylesheet" href="https://jsd.cdn.zzko.cn/gh/aboyzy/pic_tuchuang/css/cat.css"><link rel="stylesheet" href="https://jsd.cdn.zzko.cn/gh/aboyzy/pic_tuchuang/css/progress_bar.css"><div id="myscoll"></div><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 5.4.2"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",(()=>{preloader.endLoading()})),document.addEventListener("pjax:send",(()=>{preloader.initLoading()})),document.addEventListener("pjax:complete",(()=>{preloader.endLoading()}))</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/aboyzy_blogstatic/img/%E5%A4%B4%E5%83%8F.webp" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i> <span>常用</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://aboyzydh.netlify.app/"><i class="fa-fw fas fa-window-maximize"></i> <span>导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://pan.aboyzy.top"><i class="fa-fw fas fa-cloud"></i> <span>网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://jk.aboyzy.top"><i class="fa-fw fas fa-server"></i> <span>监控</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-star"></i> <span>工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://map.aboyzy.top/"><i class="fa-fw fa fa-map"></i> <span>思维导图</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://excalidraw.com/"><i class="fa-fw fa fa-location-arrow"></i> <span>画板</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://aboyzy.github.io/turndown/"><i class="fa-fw fa fa-code"></i> <span>Html To MD</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://npm.elemecdn.com/aboyzy_blogstatic/img/202304021937406.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">稚的小窝</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i> <span>常用</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://aboyzydh.netlify.app/"><i class="fa-fw fas fa-window-maximize"></i> <span>导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://pan.aboyzy.top"><i class="fa-fw fas fa-cloud"></i> <span>网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://jk.aboyzy.top"><i class="fa-fw fas fa-server"></i> <span>监控</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-star"></i> <span>工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://map.aboyzy.top/"><i class="fa-fw fa fa-map"></i> <span>思维导图</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://excalidraw.com/"><i class="fa-fw fa fa-location-arrow"></i> <span>画板</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://aboyzy.github.io/turndown/"><i class="fa-fw fa fa-code"></i> <span>Html To MD</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">一些MySQL命令</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-17T12:20:40.000Z" title="发表于 2023-01-17 20:20:40">2023-01-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-06-15T08:22:52.997Z" title="更新于 2024-06-15 16:22:52">2024-06-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BC%96%E7%A8%8B/">计算机编程</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="登录sql">登录sql</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql -h <span class="number">127.0</span>.<span class="number">0.1</span> -u &lt;用户名&gt; -p &lt;密码&gt;. <span class="comment">#默认用户名&lt;root&gt;,-p 是密码，参数后边不需要空格</span></span><br><span class="line">mysql -D 所选择的数据库名 -h 主机名 -u 用户名 -p</span><br><span class="line">mysql&gt; <span class="keyword">exit</span> <span class="comment">#退出 使用 &quot;quit;&quot; 或 &quot;\q;&quot;一样的效果</span></span><br><span class="line">mysql&gt; status; <span class="comment">#显示当前mysql的version的各种信息</span></span><br><span class="line">mysql&gt; select version();<span class="comment">#显示当前mysql的version信息</span></span><br><span class="line">mysql&gt; show global variables like <span class="string">&#x27;port&#x27;</span>;<span class="comment">#查看mysql端口号 </span></span><br></pre></td></tr></table></figure><h2 id="创建数据库">创建数据库</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="type">name</span> <span class="type">character</span> <span class="keyword">set</span> gbk</span><br><span class="line"><span class="comment">--创建一个名为name的数据库，数据库字符编码指定为gbk</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="type">name</span>;  <span class="comment">--创建名为neme的数据库</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span> db1; <span class="comment">--判断db1是否存在若不存在创建数据库</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> <span class="type">name</span>; <span class="comment">--删除库名为name的库</span></span><br><span class="line">dorp <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span> <span class="type">name</span>;判断<span class="type">name</span>数据库是否存在若存在删除数据库</span><br><span class="line"><span class="keyword">show</span> databases; <span class="comment">--显示数据库列表查询数据库个数</span></span><br><span class="line">use <span class="type">name</span>; <span class="comment">--选择创建的数据库 name</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>; <span class="comment">--显示name下面所有的表的名字</span></span><br><span class="line">describe 表名; <span class="comment">--显示数据表中结构</span></span><br><span class="line"><span class="keyword">delete</span> form 表明; <span class="comment">--清空表中记录</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();<span class="comment">--查看当前正在使用的数据库</span></span><br></pre></td></tr></table></figure><h2 id="创建数据库表">创建数据库表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> TABBLE 语法 语句用于从表中选取数据</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> name(</span><br><span class="line">列名称<span class="number">1</span> 数据类型，</span><br><span class="line">列名称<span class="number">2</span> 数据类型，</span><br><span class="line">...</span><br><span class="line">);</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF EXISTX <span class="string">&#x27;name&#x27;</span>;如果存在表name就把它从数据库<span class="keyword">drop</span>掉</span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">table</span>  name（  ， ）;创建表name</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">&#x27;NAME&#x27;</span>(</span><br><span class="line">`id`             <span class="type">int</span>(<span class="number">100</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT <span class="keyword">primary</span> key,</span><br><span class="line">  `password`       <span class="type">varchar</span>(<span class="number">32</span>)       <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;用户密码&#x27;</span>,</span><br><span class="line">  `reset_password` tinyint(<span class="number">32</span>)       <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;用户类型：0－不需要重置密码；1-需要重置密码&#x27;</span>,</span><br><span class="line">  `mobile`         <span class="type">varchar</span>(<span class="number">20</span>)       <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;手机&#x27;</span>,</span><br><span class="line">  `create_at`      <span class="type">timestamp</span>(<span class="number">6</span>)      <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>(<span class="number">6</span>),</span><br><span class="line">  `update_at`      <span class="type">timestamp</span>(<span class="number">6</span>)      <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>(<span class="number">6</span>) <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span>(<span class="number">6</span>),</span><br><span class="line">  <span class="comment">-- 创建唯一索引，不允许重复</span></span><br><span class="line">  <span class="keyword">UNIQUE</span> INDEX idx_user_mobile(`mobile`)</span><br><span class="line">)</span><br><span class="line">ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line">COMMENT<span class="operator">=</span><span class="string">&#x27;用户表信息&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">数据类型的属性解释</span><br><span class="line"> </span><br><span class="line"><span class="keyword">NULL</span>：数据列可包含<span class="keyword">NULL</span>值；</span><br><span class="line"><span class="keyword">NOT</span> <span class="keyword">NULL</span>：数据列不允许包含<span class="keyword">NULL</span>值；</span><br><span class="line"><span class="keyword">DEFAULT</span>：默认值；</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY：主键；</span><br><span class="line">AUTO_INCREMENT：自动递增，适用于整数类型；</span><br><span class="line">UNSIGNED：是指数值类型只能为正数；</span><br><span class="line"><span class="type">CHARACTER</span> <span class="keyword">SET</span> name：指定一个字符集；</span><br><span class="line">COMMENT：对表或者字段说明</span><br></pre></td></tr></table></figure><h2 id="删除数据库表">删除数据库表</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> 表名称;     <span class="comment">-- 用于删除数据库中的现有表。</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> 表名称; <span class="comment">-- 用于删除表内的数据，但不删除表本身。</span></span><br><span class="line"><span class="comment">-- 删除现有表 NAME：</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="type">NAME</span>;</span><br><span class="line"><span class="comment">-- 删除现有表 NAME 表内的数据，不删除表：</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="type">NAME</span>;</span><br></pre></td></tr></table></figure><h2 id="增删改查">增删改查</h2><h3 id="select">SELECT</h3><p><code>SELECT 语法</code> 语句用于从表中选取数据。</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称<span class="number">1</span>, 列名称<span class="number">2</span>, ... <span class="keyword">FROM</span> 表名称;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> 表名称;</span><br><span class="line">-- 从 Customers 表中选择 CustomerName 和 City 列：</span><br><span class="line"><span class="keyword">SELECT</span> CustomerName, City <span class="keyword">FROM</span> Customers;</span><br><span class="line">-- 从 Customers 表中选择所有列：</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Customers;</span><br><span class="line">-- 表 station 取个别名叫 s，表 station 中不包含 字段 id=13 或者 14 的，并且 id 不等于 4 的 查询出来，只显示 id</span><br><span class="line"><span class="keyword">SELECT</span> s.id <span class="keyword">from</span> station s <span class="keyword">WHERE</span> id <span class="keyword">in</span> (<span class="number">13</span>,<span class="number">14</span>) <span class="keyword">and</span> id <span class="keyword">not</span> <span class="keyword">in</span> (<span class="number">4</span>);</span><br><span class="line">-- 从表 users 选取 id=3 的数据，并只拉一条数据(据说能优化性能)</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> users <span class="keyword">where</span> id=<span class="number">3</span> <span class="keyword">limit</span> <span class="number">1</span></span><br><span class="line">-- 结果集中会自动去重复数据</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Company <span class="keyword">FROM</span> Orders </span><br><span class="line">-- 表 Persons 字段 Id_P 等于 Orders 字段 Id_P 的值，</span><br><span class="line">-- 结果集显示 Persons表的 LastName、FirstName字段，Orders表的OrderNo字段</span><br><span class="line"><span class="keyword">SELECT</span> p.LastName, p.FirstName, o.OrderNo <span class="keyword">FROM</span> Persons p, Orders o <span class="keyword">WHERE</span> p.Id_P = o.Id_P</span><br><span class="line"> </span><br><span class="line">-- gbk 和 utf8 中英文混合排序最简单的办法 </span><br><span class="line">-- ci是 <span class="keyword">case</span> insensitive, 即 “大小写不敏感”</span><br><span class="line"><span class="keyword">SELECT</span> tag, <span class="built_in">COUNT</span>(tag) <span class="keyword">from</span> news <span class="keyword">GROUP</span> <span class="keyword">BY</span> tag <span class="keyword">order</span> <span class="keyword">by</span> convert(tag <span class="keyword">using</span> gbk) <span class="keyword">collate</span> gbk_chinese_ci;</span><br><span class="line"><span class="keyword">SELECT</span> tag, <span class="built_in">COUNT</span>(tag) <span class="keyword">from</span> news <span class="keyword">GROUP</span> <span class="keyword">BY</span> tag <span class="keyword">order</span> <span class="keyword">by</span> convert(tag <span class="keyword">using</span> utf8) <span class="keyword">collate</span> utf8_unicode_ci;</span><br></pre></td></tr></table></figure><h3 id="update">UPDATE</h3><p><code>Update 语法</code> 语句用于修改表中的数据。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">UPDATE</span> 表名称 SET 列名称<span class="number">1</span> = 值<span class="number">1</span>, 列名称<span class="number">2</span> = 值<span class="number">2</span>, ... WHERE 条件;</span><br><span class="line">-- <span class="attribute">update</span>语句设置字段值为另一个结果取出来的字段</span><br><span class="line"><span class="attribute">UPDATE</span> user set name = (SELECT name from user1 WHERE user1 .id = <span class="number">1</span> )</span><br><span class="line"><span class="attribute">WHERE</span> id = (SELECT id from user2 WHERE user2 .name=&#x27;小苏&#x27;);</span><br><span class="line">-- 更新表 <span class="attribute">orders</span> 中 id=<span class="number">1</span> 的那一行数据更新它的 title 字段</span><br><span class="line"><span class="attribute">UPDATE</span> `orders` set title=&#x27;这里是标题&#x27; WHERE id=<span class="number">1</span>;</span><br></pre></td></tr></table></figure><h3 id="insert">INSERT</h3><p><code>INSERT 语法</code> 用于向表格中插入新的行。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">INSERT</span> INTO 表名称 (列名称<span class="number">1</span>, 列名称<span class="number">2</span>, 列名称<span class="number">3</span>, ...) VALUES (值<span class="number">1</span>, 值<span class="number">2</span>, 值<span class="number">3</span>, ...);</span><br><span class="line"><span class="attribute">INSERT</span> INTO 表名称 VALUES (值<span class="number">1</span>, 值<span class="number">2</span>, 值<span class="number">3</span>, ...);</span><br><span class="line">-- 向表 <span class="attribute">Persons</span> 插入一条字段 LastName = JSLite 字段 Address = shanghai</span><br><span class="line"><span class="attribute">INSERT</span> INTO Persons (LastName, Address) VALUES (&#x27;JSLite&#x27;, &#x27;shanghai&#x27;);</span><br><span class="line">-- 向表 <span class="attribute">meeting</span> 插入 字段 a=<span class="number">1</span> 和字段 b=<span class="number">2</span></span><br><span class="line"><span class="attribute">INSERT</span> INTO meeting SET a=<span class="number">1</span>,b=<span class="number">2</span>;</span><br><span class="line">-- </span><br><span class="line">-- <span class="attribute">SQL</span>实现将一个表的数据插入到另外一个表的代码</span><br><span class="line">-- 如果只希望导入指定字段，可以用这种方法：</span><br><span class="line">-- <span class="attribute">INSERT</span> INTO 目标表 (字段<span class="number">1</span>, 字段<span class="number">2</span>, ...) SELECT 字段<span class="number">1</span>, 字段<span class="number">2</span>, ... FROM 来源表;</span><br><span class="line"><span class="attribute">INSERT</span> INTO orders (user_account_id, title) SELECT m.user_id, m.title FROM meeting m where m.id=<span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">-- 向表 <span class="attribute">charger</span> 插入一条数据，已存在就对表 charger 更新 `type`,`update_at` 字段；</span><br><span class="line"><span class="attribute">INSERT</span> INTO `charger` (`id`,`type`,`create_at`,`update_at`) VALUES (<span class="number">3</span>,<span class="number">2</span>,&#x27;<span class="number">2017</span>-<span class="number">05</span>-<span class="number">18</span> <span class="number">11</span>:<span class="number">06</span>:<span class="number">17</span>&#x27;,&#x27;<span class="number">2017</span>-<span class="number">05</span>-<span class="number">18</span> <span class="number">11</span>:<span class="number">06</span>:<span class="number">17</span>&#x27;) <span class="literal">ON</span> DUPLICATE KEY UPDATE `id`=VALUES(`id`), `type`=VALUES(`type`), `update_at`=VALUES(`update_at`);</span><br></pre></td></tr></table></figure><h3 id="delete">DELETE</h3><p><code>DELETE 语法</code> 语句用于删除表中的现有记录。</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> 表名称 <span class="keyword">WHERE</span> 条件;</span><br><span class="line">-- 在不删除table_name表的情况下删除所有的行，清空表。</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> table_name</span><br><span class="line">-- 或者</span><br><span class="line"><span class="keyword">DELETE</span> * <span class="keyword">FROM</span> table_name</span><br><span class="line">-- 删除 Person 表字段 LastName = <span class="string">&#x27;JSLite&#x27;</span> </span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Person <span class="keyword">WHERE</span> LastName = <span class="string">&#x27;JSLite&#x27;</span> </span><br><span class="line">-- 删除 表meeting id 为<span class="number">2</span>和<span class="number">3</span>的两条数据</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">from</span> meeting <span class="keyword">where</span> id <span class="keyword">in</span> (<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure><h2 id="where">WHERE</h2><p><code>WHERE 语法</code> 用于仅提取满足指定条件的记录</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称, 列名称, <span class="params">...</span> FROM 表名称 <span class="keyword">WHERE</span> 条件<span class="number">1</span>;</span><br><span class="line">-- 从表 Persons 中选出 Year 字段大于 <span class="number">1965</span> 的数据</span><br><span class="line"><span class="keyword">SELECT</span> * FROM Persons <span class="keyword">WHERE</span> Year&gt;<span class="number">1965</span></span><br><span class="line">-- 从 Customers 表中选择 Country = Mexico 的所有数据：</span><br><span class="line"><span class="keyword">SELECT</span> * FROM Customers <span class="keyword">WHERE</span> Country=<span class="string">&#x27;Mexico&#x27;</span>;</span><br><span class="line">-- 从 Customers 表中选择 CustomerID = <span class="number">1</span> 的所有数据：</span><br><span class="line"><span class="keyword">SELECT</span> * FROM Customers <span class="keyword">WHERE</span> CustomerID=<span class="number">1</span>;</span><br></pre></td></tr></table></figure><h2 id="and-or-和-not">AND, OR 和 NOT</h2><p><code>WHERE</code> 子句可以与 <code>AND</code>、<code>OR</code> 和 <code>NOT</code> 运算符组合使用。</p><p><code>AND</code> 和 <code>OR</code> 运算符用于根据多个条件过滤记录：</p><ul><li>如果由 <code>AND</code> 分隔的所有条件都为 <code>TRUE</code>，则 <code>AND</code> 运算符将显示一条记录。</li><li>如果由 <code>OR</code> 分隔的任何条件为 <code>TRUE</code>，则 <code>OR</code> 运算符将显示一条记录。</li></ul><p>如果条件不为真，<code>NOT</code> 运算符将显示一条记录。</p><h3 id="and">AND</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">AND 语法</span><br><span class="line">SELECT 列名称, 列名称, ... FROM 表名称 WHERE 条件1 AND 条件2 AND 条件3 ...;</span><br><span class="line">-- 删除 meeting 表字段 </span><br><span class="line">-- id=2 并且 user_id=5 的数据  和id=3 并且 user_id=6 的数据 </span><br><span class="line">DELETE from meeting where id in (2,3) and user_id in (5,6);</span><br><span class="line"> </span><br><span class="line">-- 使用 AND 来显示所有姓为 &quot;Carter&quot; 并且名为 &quot;Thomas&quot; 的人：</span><br><span class="line">SELECT * FROM Persons WHERE FirstName=&#x27;Thomas&#x27; AND LastName=&#x27;Carter&#x27;;</span><br></pre></td></tr></table></figure><h3 id="or">OR</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OR 语法</span><br><span class="line">SELECT 列名称1, 列名称2, ... FROM 表名称 WHERE 条件1 OR 条件2 OR 条件3 ...;</span><br><span class="line">-- 使用 OR 来显示所有姓为 &quot;Carter&quot; 或者名为 &quot;Thomas&quot; 的人：</span><br><span class="line">SELECT * FROM Persons WHERE firstname=&#x27;Thomas&#x27; OR lastname=&#x27;Carter&#x27;</span><br></pre></td></tr></table></figure><h3 id="not">NOT</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NOT 语法</span><br><span class="line">SELECT 列名称1, 列名称2, ... FROM 表名称 WHERE NOT 条件2;</span><br><span class="line">-- 从 Customers 表中选择 Country 不是 Germany 的所有字段：</span><br><span class="line">SELECT * FROM Customers WHERE NOT Country=&#x27;Germany&#x27;;</span><br></pre></td></tr></table></figure><h3 id="and-or-not">AND &amp; OR &amp; NOT</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 从 Customers 表中选择所有字段，其中 Country 为 Germany 且城市必须为 Berlin 或 München（使用括号构成复杂表达式）：</span><br><span class="line">SELECT * <span class="keyword">FROM</span> Customers WHERE <span class="attribute">Country</span>=<span class="string">&#x27;Germany&#x27;</span> <span class="keyword">AND</span> (<span class="attribute">City</span>=<span class="string">&#x27;Berlin&#x27;</span> <span class="keyword">OR</span> <span class="attribute">City</span>=<span class="string">&#x27;München&#x27;</span>);</span><br><span class="line">-- 从 Customers 表中选择 Country 不是 Germany 和 <span class="keyword">NOT</span> <span class="string">&quot;USA&quot;</span> 的所有字段：</span><br><span class="line">SELECT * <span class="keyword">FROM</span> Customers WHERE <span class="keyword">NOT</span> <span class="attribute">Country</span>=<span class="string">&#x27;Germany&#x27;</span> <span class="keyword">AND</span> <span class="keyword">NOT</span> <span class="attribute">Country</span>=<span class="string">&#x27;USA&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="order-by">ORDER BY</h2><p><code>ORDER BY 语法</code> 用于按升序或降序对结果集进行排序。</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称<span class="number">1</span>, 列名称<span class="number">2</span>, ... <span class="keyword">FROM</span> 表名称 <span class="keyword">ORDER</span> <span class="keyword">BY</span> 列名称<span class="number">1</span>, 列名称<span class="number">2</span>, ... <span class="keyword">ASC</span>|<span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><p>默认按 <code>ASC</code> 升序对记录进行排序。要按降序对记录进行排序，请使用 <code>DESC</code> 关键字。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 从 Customers 表中选择所有字段，按 Country 列排序：</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Customers <span class="keyword">ORDER</span> <span class="keyword">BY</span> Country;</span><br><span class="line"><span class="comment">-- 从 Orders 表中选择 Company, OrderNumber 字段，按 Company 列排序：</span></span><br><span class="line"><span class="keyword">SELECT</span> Company, OrderNumber <span class="keyword">FROM</span> Orders <span class="keyword">ORDER</span> <span class="keyword">BY</span> Company</span><br><span class="line"><span class="comment">-- 从 Orders 表中选择 Company, OrderNumber 字段，按 Company 列降序排序：</span></span><br><span class="line"><span class="keyword">SELECT</span> Company, OrderNumber <span class="keyword">FROM</span> Orders <span class="keyword">ORDER</span> <span class="keyword">BY</span> Company <span class="keyword">DESC</span></span><br><span class="line"><span class="comment">-- 从 Orders 表中选择 Company, OrderNumber 字段，按 Company 列降序排序，并 OrderNumber 以顺序显示：</span></span><br><span class="line"><span class="keyword">SELECT</span> Company, OrderNumber <span class="keyword">FROM</span> Orders <span class="keyword">ORDER</span> <span class="keyword">BY</span> Company <span class="keyword">DESC</span>, OrderNumber <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure><h2 id="group-by">GROUP BY</h2><p><code>GROUP BY 语法</code> 将具有相同值的行分组到汇总行中</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s)</span><br><span class="line"><span class="keyword">FROM</span> 表名称</span><br><span class="line"><span class="keyword">WHERE</span> 条件</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> 列名称(s)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> 列名称(s);</span><br><span class="line">-- 列出了 Orders 每个发货人 Shippers 发送的订单 Orders 数量</span><br><span class="line"><span class="keyword">SELECT</span> Shippers.ShipperName, <span class="built_in">COUNT</span>(Orders.OrderID) <span class="keyword">AS</span> NumberOfOrders <span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> Shippers <span class="keyword">ON</span> Orders.ShipperID = Shippers.ShipperID</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> ShipperName;</span><br></pre></td></tr></table></figure><h2 id="in">IN</h2><p><code>IN 语法</code> 运算符允许您在 WHERE 子句中指定多个值。运算符是多个 OR 条件的简写。</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s) <span class="keyword">FROM</span> 表名称 <span class="keyword">WHERE</span> 列名称 <span class="keyword">IN</span> (值<span class="number">1</span>, 值<span class="number">2</span>, ...);</span><br><span class="line"><span class="keyword">SELECT</span> 列名称(s) <span class="keyword">FROM</span> 表名称 <span class="keyword">WHERE</span> 列名称 <span class="keyword">IN</span> (<span class="keyword">SELECT</span> STATEMENT);</span><br><span class="line">-- 从表 Persons 选取 字段 LastName 等于 Adams、Carter</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Persons <span class="keyword">WHERE</span> LastName <span class="keyword">IN</span> (<span class="string">&#x27;Adams&#x27;</span>,<span class="string">&#x27;Carter&#x27;</span>)</span><br><span class="line">-- 从表 Customers 选取 Country 值为 <span class="string">&#x27;Germany&#x27;</span>, <span class="string">&#x27;France&#x27;</span>, <span class="string">&#x27;UK&#x27;</span> 的所有数据</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Customers <span class="keyword">WHERE</span> Country <span class="keyword">IN</span> (<span class="string">&#x27;Germany&#x27;</span>, <span class="string">&#x27;France&#x27;</span>, <span class="string">&#x27;UK&#x27;</span>);</span><br><span class="line">-- 从表 Customers 选取 Country 值不为 &#x27;Germany&#x27;, &#x27;France&#x27;, &#x27;UK&#x27; 的所有数据</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Customers <span class="keyword">WHERE</span> Country <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">&#x27;Germany&#x27;</span>, <span class="string">&#x27;France&#x27;</span>, <span class="string">&#x27;UK&#x27;</span>);</span><br><span class="line">-- 从表 Customers 选取与 Suppliers 表 Country 字段相同的所有数据：</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Customers <span class="keyword">WHERE</span> Country <span class="keyword">IN</span> (<span class="keyword">SELECT</span> Country <span class="keyword">FROM</span> Suppliers);</span><br></pre></td></tr></table></figure><h2 id="union">UNION</h2><p><code>UNION 语法</code> 操作符用于合并两个或多个 SELECT 语句的结果集</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s) <span class="keyword">FROM</span> 表名称<span class="number">1</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> 列名称(s) <span class="keyword">FROM</span> 表名称<span class="number">2</span>;</span><br><span class="line">-- 列出所有在中国表（Employees_China）和美国（Employees_USA）的不同的雇员名</span><br><span class="line"><span class="keyword">SELECT</span> E_Name <span class="keyword">FROM</span> Employees_China <span class="keyword">UNION</span> <span class="keyword">SELECT</span> E_Name <span class="keyword">FROM</span> Employees_USA</span><br><span class="line"> </span><br><span class="line">-- 列出 meeting 表中的 pic_url，</span><br><span class="line">-- station 表中的 number_station 别名设置成 pic_url 避免字段不一样报错</span><br><span class="line">-- 按更新时间排序</span><br><span class="line"><span class="keyword">SELECT</span> id,pic_url <span class="keyword">FROM</span> meeting <span class="keyword">UNION</span> <span class="keyword">ALL</span> <span class="keyword">SELECT</span> id,number_station <span class="keyword">AS</span> pic_url <span class="keyword">FROM</span> station  <span class="keyword">ORDER</span> <span class="keyword">BY</span> update_at;</span><br><span class="line">-- 通过 UNION 语法同时查询了 products 表 和 comments 表的总记录数，并且按照 count 排序</span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;product&#x27;</span> <span class="keyword">AS</span> <span class="built_in">type</span>, <span class="built_in">count</span>(*) <span class="keyword">as</span> <span class="built_in">count</span> <span class="keyword">FROM</span> <span class="symbol">`products`</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="string">&#x27;comment&#x27;</span> <span class="keyword">as</span> <span class="built_in">type</span>, <span class="built_in">count</span>(*) <span class="keyword">as</span> <span class="built_in">count</span> <span class="keyword">FROM</span> <span class="symbol">`comments`</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">count</span>;</span><br></pre></td></tr></table></figure><h2 id="between">BETWEEN</h2><p><code>BETWEEN 语法</code> 运算符选择给定范围内的值</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s) <span class="keyword">FROM</span> 表名称 <span class="keyword">WHERE</span> 列名称 <span class="keyword">BETWEEN</span> 值<span class="number">1</span> <span class="keyword">AND</span> 值<span class="number">2</span>;</span><br><span class="line">-- 选择 Products 表中 Price 字段在 10 到 <span class="number">20</span> 之间的所有：</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Products <span class="keyword">WHERE</span> Price <span class="keyword">BETWEEN</span> <span class="number">10</span> <span class="keyword">AND</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure><h2 id="as">AS</h2><p><code>AS 语法</code> 用于为表或表中的列(字段)提供临时名称(别名)。</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称 <span class="keyword">AS</span> 别名 <span class="keyword">FROM</span> 表名称;</span><br><span class="line"><span class="keyword">SELECT</span> 列名称(s) <span class="keyword">FROM</span> 表名称 <span class="keyword">AS</span> 别名;</span><br><span class="line">-- 创建两个别名，一个用于 CustomerID 的 ID 别名列，一个用于 CustomerName  的 Customer 别名列：</span><br><span class="line"><span class="keyword">SELECT</span> CustomerID <span class="keyword">AS</span> ID, CustomerName <span class="keyword">AS</span> Customer <span class="keyword">FROM</span> Customers;</span><br><span class="line"> </span><br><span class="line">-- 这句意思是查找所有 Employee 表里面的数据，并把 Employee 表格命名为 emp。</span><br><span class="line">-- 当你命名一个表之后，你可以在下面用 emp 代替 Employee.</span><br><span class="line">-- 例如 <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> emp.</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Employee <span class="keyword">AS</span> emp</span><br><span class="line"> </span><br><span class="line">-- 列出表 Orders 字段 OrderPrice 列最大值，</span><br><span class="line">-- 结果集列不显示 OrderPrice 显示 LargestOrderPrice</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(OrderPrice) <span class="keyword">AS</span> LargestOrderPrice <span class="keyword">FROM</span> Orders</span><br><span class="line"> </span><br><span class="line">-- 显示表 users_profile 中的 name 列</span><br><span class="line"><span class="keyword">SELECT</span> t.name <span class="keyword">from</span> (<span class="keyword">SELECT</span> * <span class="keyword">from</span> users_profile a) <span class="keyword">AS</span> t;</span><br><span class="line"> </span><br><span class="line">-- 表 user_accounts 命名别名 ua，表 users_profile 命名别名 up</span><br><span class="line">-- 满足条件 表 user_accounts 字段 id 等于 表 users_profile 字段 user_id</span><br><span class="line">-- 结果集只显示mobile、name两列</span><br><span class="line"><span class="keyword">SELECT</span> ua.mobile,up.name <span class="keyword">FROM</span> user_accounts <span class="keyword">as</span> ua <span class="keyword">INNER</span> <span class="keyword">JOIN</span> users_profile <span class="keyword">as</span> up <span class="keyword">ON</span> ua.id = up.user_id;</span><br></pre></td></tr></table></figure><h2 id="join">JOIN</h2><p>JOIN 子句用于根据两个或多个表之间的相关列组合来自两个或多个表的行。</p><ul><li><code>JOIN</code>: 如果表中有至少一个匹配，则返回行</li><li><code>INNER JOIN</code>:在表中存在至少一个匹配时，INNER JOIN 关键字返回行。</li><li><code>LEFT JOIN</code>: 即使右表中没有匹配，也从左表返回所有的行</li><li><code>RIGHT JOIN</code>: 即使左表中没有匹配，也从右表返回所有的行</li><li><code>FULL JOIN</code>: 只要其中一个表中存在匹配，就返回行(MySQL 是不支持的，通过 <code>LEFT JOIN + UNION + RIGHT JOIN</code> 的方式 来实现)</li></ul><h3 id="inner-join">INNER JOIN</h3><p><code>INNER JOIN 语法</code> 选择在两个表中具有匹配值的记录。</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s)</span><br><span class="line"><span class="keyword">FROM</span> 表<span class="number">1</span></span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> 表<span class="number">2</span></span><br><span class="line"><span class="keyword">ON</span> 表<span class="number">1.</span>列名称 = 表<span class="number">2.</span>列名称;</span><br><span class="line">-- 选择包含 Customers 的所有 Orders：</span><br><span class="line"><span class="keyword">SELECT</span> Orders.OrderID, Customers.CustomerName <span class="keyword">FROM</span> Orders <span class="keyword">INNER</span> <span class="keyword">JOIN</span> Customers <span class="keyword">ON</span> Orders.CustomerID = Customers.CustomerID;</span><br><span class="line"> </span><br><span class="line">-- [JOIN 三张表] 选择包含 Customers 和 Shippers 的所有 Orders：</span><br><span class="line"><span class="keyword">SELECT</span> Orders.OrderID, Customers.CustomerName, Shippers.ShipperName</span><br><span class="line"><span class="keyword">FROM</span> ((Orders</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> Customers <span class="keyword">ON</span> Orders.CustomerID = Customers.CustomerID)</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> Shippers <span class="keyword">ON</span> Orders.ShipperID = Shippers.ShipperID);</span><br></pre></td></tr></table></figure><h3 id="left-join">LEFT JOIN</h3><p><code>LEFT JOIN 语法</code> 返回左表 (表1) 中的所有记录，以及右表 (表2) 中的匹配记录</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s)</span><br><span class="line"><span class="keyword">FROM</span> 表<span class="number">1</span></span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> 表<span class="number">2</span></span><br><span class="line"><span class="keyword">ON</span> 表<span class="number">1.</span>列名称 = 表<span class="number">2.</span>列名称;</span><br><span class="line">-- 将选择所有 Customers 以及他们可能拥有的任何 Orders：</span><br><span class="line"><span class="keyword">SELECT</span> Customers.CustomerName, Orders.OrderID <span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> Orders <span class="keyword">ON</span> Customers.CustomerID = Orders.CustomerID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Customers.CustomerName;</span><br></pre></td></tr></table></figure><h3 id="right-join">RIGHT JOIN</h3><p><code>RIGHT JOIN 语法</code> 返回右表 (表2) 中的所有记录，以及左表 (表1) 中的匹配记录</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s)</span><br><span class="line"><span class="keyword">FROM</span> 表<span class="number">1</span></span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> 表<span class="number">2</span></span><br><span class="line"><span class="keyword">ON</span> 表<span class="number">1.</span>列名称 = 表<span class="number">2.</span>列名称;</span><br><span class="line">-- 返回所有 Employees 以及他们可能下的任何 Orders：</span><br><span class="line"><span class="keyword">SELECT</span> Orders.OrderID, Employees.LastName, Employees.FirstName <span class="keyword">FROM</span> Orders</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> Employees <span class="keyword">ON</span> Orders.EmployeeID = Employees.EmployeeID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Orders.OrderID;</span><br></pre></td></tr></table></figure><h3 id="full-outer-join">FULL OUTER JOIN</h3><p><code>FULL OUTER JOIN 语法</code> 当左（表1）或右（表2）表记录中存在匹配时，关键字返回所有记录</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 列名称(s)</span><br><span class="line"><span class="keyword">FROM</span> 表<span class="number">1</span></span><br><span class="line"><span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> 表<span class="number">2</span></span><br><span class="line"><span class="keyword">ON</span> 表<span class="number">1.</span>列名称 = 表<span class="number">2.</span>列名称</span><br><span class="line"><span class="keyword">WHERE</span> 条件;</span><br></pre></td></tr></table></figure><h2 id="sql-函数">SQL 函数</h2><h3 id="count">COUNT</h3><blockquote><p><code>COUNT 语法</code> 返回与指定条件匹配的行数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(列名称) FROM 表名称 WHERE 条件;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 表 Store_Information 有几笔 store_name 栏不是空白的资料。</span><br><span class="line">-- &quot;IS NOT NULL&quot; 是 &quot;这个栏位不是空白&quot; 的意思。</span><br><span class="line">SELECT COUNT (Store_Name) FROM Store_Information WHERE Store_Name IS NOT NULL; </span><br><span class="line">-- 获取 Persons 表的总数</span><br><span class="line">SELECT COUNT(1) AS totals FROM Persons;</span><br><span class="line">-- 获取表 station 字段 user_id 相同的总数</span><br><span class="line">select user_id, count(*) as totals from station group by user_id;</span><br></pre></td></tr></table></figure><h3 id="avg">AVG</h3><blockquote><p><code>AVG 语法</code> 返回数值列的平均值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT AVG(列名称) FROM 表名称 WHERE 条件;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查找 Products 表中所的 Price 平均值：</span><br><span class="line">SELECT AVG(Price) FROM Products;</span><br></pre></td></tr></table></figure><h3 id="sum">SUM</h3><blockquote><p><code>SUM 语法</code> 返回数值列的总和</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT SUM(列名称) FROM 表名称 WHERE 条件;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查找 OrderDetails 表中 Quantity 字段的总和：</span><br><span class="line">SELECT SUM(Quantity) FROM OrderDetails;</span><br></pre></td></tr></table></figure><h3 id="max">MAX</h3><blockquote><p><code>MAX 语法</code> 返回所选列的最大值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT MIN(列名称) FROM 表名称 WHERE 条件;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- 列出表 Orders 字段 OrderPrice 列最大值，</span><br><span class="line">-- 结果集列不显示 OrderPrice 显示 LargestOrderPrice</span><br><span class="line">SELECT MAX(OrderPrice) AS LargestOrderPrice FROM Orders</span><br></pre></td></tr></table></figure><h3 id="min">MIN</h3><blockquote><p><code>MIN 语法</code> 返回所选列的最小值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT MIN(列名称) FROM 表名称 WHERE 条件;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查找 Products 表中 Price 字段最小值，并命名 SmallestPrice 别名：</span><br><span class="line">SELECT MIN(Price) AS SmallestPrice FROM Products;</span><br></pre></td></tr></table></figure><h2 id="触发器">触发器</h2><blockquote><p>语法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create trigger &lt;触发器名称&gt;  </span><br><span class="line">&#123; before | after&#125;         -- 之前或者之后出发  </span><br><span class="line">insert | update | delete  -- 指明了激活触发程序的语句的类型  </span><br><span class="line">on &lt;表名&gt;                  -- 操作哪张表  </span><br><span class="line">for each row              -- 触发器的执行间隔，for each row 通知触发器每隔一行执行一次动作，而不是对整个表执行一次。  </span><br><span class="line">&lt;触发器SQL语句&gt;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line">CREATE TRIGGER set_userdate BEFORE INSERT </span><br><span class="line">on `message`</span><br><span class="line">for EACH ROW</span><br><span class="line">BEGIN</span><br><span class="line">  set @statu = new.status; -- 声明复制变量 statu</span><br><span class="line">  if @statu = 0 then       -- 判断 statu 是否等于 0</span><br><span class="line">    UPDATE `user_accounts` SET status=1 WHERE openid=NEW.openid;</span><br><span class="line">  end if;</span><br><span class="line">END</span><br><span class="line">$</span><br><span class="line">DELIMITER ; -- 恢复结束符号</span><br></pre></td></tr></table></figure><p>OLD和NEW不区分大小写</p><ul><li>NEW 用NEW.col_name，没有旧行。在DELETE触发程序中，仅能使用OLD.col_name，没有新行。</li><li>OLD 用OLD.col_name来引用更新前的某一行的列</li></ul><h2 id="添加索引">添加索引</h2><h3 id="普通索引-index">普通索引(INDEX)</h3><blockquote><p>语法：ALTER TABLE <code>表名字</code> ADD INDEX 索引名字 ( <code>字段名字</code> )</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- –直接创建索引</span><br><span class="line">CREATE INDEX index_user ON user(title)</span><br><span class="line">-- –修改表结构的方式添加索引</span><br><span class="line">ALTER TABLE table_name ADD INDEX index_name ON (column(length))</span><br><span class="line">-- 给 user 表中的 name 字段 添加普通索引(INDEX)</span><br><span class="line">ALTER TABLE `user` ADD INDEX index_name (name)</span><br><span class="line">-- –创建表的时候同时创建索引</span><br><span class="line">CREATE TABLE `user` (</span><br><span class="line">    `id` int(11) NOT NULL AUTO_INCREMENT ,</span><br><span class="line">    `title` char(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,</span><br><span class="line">    `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,</span><br><span class="line">    `time` int(10) NULL DEFAULT NULL ,</span><br><span class="line">    PRIMARY KEY (`id`),</span><br><span class="line">    INDEX index_name (title(length))</span><br><span class="line">)</span><br><span class="line">-- –删除索引</span><br><span class="line">DROP INDEX index_name ON table</span><br></pre></td></tr></table></figure><h3 id="主键索引-primary-key">主键索引(PRIMARY key)</h3><blockquote><p>语法：ALTER TABLE <code>表名字</code> ADD PRIMARY KEY ( <code>字段名字</code> )</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 id字段 添加主键索引(PRIMARY key)</span><br><span class="line">ALTER TABLE `user` ADD PRIMARY key (id);</span><br></pre></td></tr></table></figure><h3 id="唯一索引-unique">唯一索引(UNIQUE)</h3><blockquote><p>语法：ALTER TABLE <code>表名字</code> ADD UNIQUE (<code>字段名字</code>)</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 creattime 字段添加唯一索引(UNIQUE)</span><br><span class="line">ALTER TABLE `user` ADD UNIQUE (creattime);</span><br></pre></td></tr></table></figure><h3 id="全文索引-fulltext">全文索引(FULLTEXT)</h3><blockquote><p>语法：ALTER TABLE <code>表名字</code> ADD FULLTEXT (<code>字段名字</code>)</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 description 字段添加全文索引(FULLTEXT)</span><br><span class="line">ALTER TABLE `user` ADD FULLTEXT (description);</span><br></pre></td></tr></table></figure><h3 id="添加多列索引">添加多列索引</h3><blockquote><p>语法： ALTER TABLE <code>table_name</code> ADD INDEX index_name ( <code>column1</code>, <code>column2</code>, <code>column3</code>)</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 name、city、age 字段添加名字为name_city_age的普通索引(INDEX)</span><br><span class="line">ALTER TABLE user ADD INDEX name_city_age (name(10),city,age); </span><br></pre></td></tr></table></figure><h3 id="建立索引的时机">建立索引的时机</h3><p>在 <code>WHERE</code>和 <code>JOIN</code>中出现的列需要建立索引，但也不完全如此：</p><ul><li>MySQL只对 <code>&lt;</code>，<code>&lt;=</code>，<code>=</code>，<code>&gt;</code>，<code>&gt;=</code>，<code>BETWEEN</code>，<code>IN</code>使用索引</li><li>某些时候的 <code>LIKE</code>也会使用索引。</li><li>在 <code>LIKE</code>以通配符%和_开头作查询时，MySQL不会使用索引。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 此时就需要对city和age建立索引，</span><br><span class="line">-- 由于mytable表的userame也出现在了JOIN子句中，也有对它建立索引的必要。</span><br><span class="line">SELECT t.Name  </span><br><span class="line">FROM mytable t LEFT JOIN mytable m ON t.Name=m.username </span><br><span class="line">WHERE m.age=20 AND m.city=&#x27;上海&#x27;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM mytable WHERE username like&#x27;admin%&#x27;; -- 而下句就不会使用：</span><br><span class="line">SELECT * FROM mytable WHERE Name like&#x27;%admin&#x27;; -- 因此，在使用LIKE时应注意以上的区别。</span><br></pre></td></tr></table></figure><p>索引的注意事项</p><ul><li>索引不会包含有NULL值的列</li><li>使用短索引</li><li>不要在列上进行运算 索引会失效</li></ul><h2 id="创建后表的修改">创建后表的修改</h2><h3 id="添加列">添加列</h3><blockquote><p>语法：<code>alter table 表名 add 列名 列数据类型 [after 插入位置];</code></p></blockquote><p>示例:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 在表students的最后追加列 address: </span><br><span class="line">alter table students add address char(60);</span><br><span class="line">-- 在名为 age 的列后插入列 birthday: </span><br><span class="line">alter table students add birthday date after age;</span><br><span class="line">-- 在名为 number_people 的列后插入列 weeks: </span><br><span class="line">alter table students add column `weeks` varchar(5) not null default &quot;&quot; after `number_people`;</span><br></pre></td></tr></table></figure><h3 id="修改列">修改列</h3><blockquote><p>语法：<code>alter table 表名 change 列名称 列新名称 新数据类型;</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 将表 tel 列改名为 telphone: </span><br><span class="line">alter table students change tel telphone char(13) default &quot;-&quot;;</span><br><span class="line">-- 将 name 列的数据类型改为 char(16): </span><br><span class="line">alter table students change name name char(16) not null;</span><br><span class="line">-- 修改 COMMENT 前面必须得有类型属性</span><br><span class="line">alter table students change name name char(16) COMMENT &#x27;这里是名字&#x27;;</span><br><span class="line">-- 修改列属性的时候 建议使用modify,不需要重建表</span><br><span class="line">-- change用于修改列名字，这个需要重建表</span><br><span class="line">alter table meeting modify `weeks` varchar(20) NOT NULL DEFAULT &#x27;&#x27; COMMENT &#x27;开放日期 周一到周日：0~6，间隔用英文逗号隔开&#x27;;</span><br><span class="line">-- `user`表的`id`列，修改成字符串类型长度50，不能为空，`FIRST`放在第一列的位置</span><br><span class="line">alter table `user` modify COLUMN `id` varchar(50) NOT NULL FIRST ;</span><br></pre></td></tr></table></figure><h3 id="删除列">删除列</h3><blockquote><p>语法：<code>alter table 表名 drop 列名称;</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除表students中的 birthday 列: </span><br><span class="line">alter table students drop birthday;</span><br></pre></td></tr></table></figure><h3 id="重命名表">重命名表</h3><blockquote><p>语法：<code>alter table 表名 rename 新表名;</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 重命名 students 表为 workmates: </span><br><span class="line">alter table students rename workmates;</span><br></pre></td></tr></table></figure><h3 id="清空表数据">清空表数据</h3><blockquote><p>方法一：<code>delete from 表名;</code> 方法二：<code>truncate table &quot;表名&quot;;</code></p></blockquote><ul><li><code>DELETE:</code>1. DML语言;2. 可以回退;3. 可以有条件的删除;</li><li><code>TRUNCATE:</code>1. DDL语言;2. 无法回退;3. 默认所有的表内容都删除;4. 删除速度比delete快。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 清空表为 workmates 里面的数据，不删除表。 </span><br><span class="line">delete from workmates;</span><br><span class="line">-- 删除workmates表中的所有数据，且无法恢复</span><br><span class="line">truncate table workmates;</span><br></pre></td></tr></table></figure><h3 id="删除整张表">删除整张表</h3><blockquote><p>语法：<code>drop table 表名;</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除 workmates 表: </span><br><span class="line">drop table workmates;</span><br></pre></td></tr></table></figure><h3 id="删除整个数据库">删除整个数据库</h3><blockquote><p>语法：<code>drop database 数据库名;</code></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除 samp_db 数据库: </span><br><span class="line">drop database samp_db;</span><br></pre></td></tr></table></figure><h2 id="其它实例">其它实例</h2><h3 id="sql删除重复记录">SQL删除重复记录</h3><p><a target="_blank" rel="noopener" href="http://www.xiangguo.li/sql_and_nosql/2015/01/01/sql">转载</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 查找表中多余的重复记录，重复记录是根据单个字段（peopleId）来判断</span><br><span class="line">select * from people where peopleId in (select peopleId from people group by peopleId having count(peopleId) &gt; 1)</span><br><span class="line">-- 删除表中多余的重复记录，重复记录是根据单个字段（peopleId）来判断，只留有rowid最小的记录</span><br><span class="line">delete from people </span><br><span class="line">where peopleId in (select peopleId from people group by peopleId having count(peopleId) &gt; 1)</span><br><span class="line">and rowid not in (select min(rowid) from people group by peopleId having count(peopleId )&gt;1)</span><br><span class="line">-- 查找表中多余的重复记录（多个字段）</span><br><span class="line">select * from vitae a</span><br><span class="line">where (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count(*) &gt; 1)</span><br><span class="line">-- 删除表中多余的重复记录（多个字段），只留有rowid最小的记录</span><br><span class="line">delete from vitae a</span><br><span class="line">where (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count(*) &gt; 1) and rowid not in (select min(rowid) from vitae group by peopleId,seq having count(*)&gt;1)</span><br><span class="line">-- 查找表中多余的重复记录（多个字段），不包含rowid最小的记录</span><br><span class="line">select * from vitae a</span><br><span class="line">where (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count(*) &gt; 1) and rowid not in (select min(rowid) from vitae group b</span><br></pre></td></tr></table></figure><p>参考：<strong><a target="_blank" rel="noopener" href="https://github.com/jaywcjlove/mysql-tutorial">mysql-tutorial</a></strong></p></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a></div><div class="post_share"></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/aboyzy_blogstatic/img/%E5%A4%B4%E5%83%8F.webp" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">稚</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/aboyzy"><i class="fab fa-github"></i><span>GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客，博客记录一些研究的东西和充当备忘录使用(年龄大了记性不大好容易忘).如果博客文章侵权请联系删除.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95sql"><span class="toc-number">1.</span> <span class="toc-text">登录sql</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-number">3.</span> <span class="toc-text">创建数据库表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-number">4.</span> <span class="toc-text">删除数据库表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">5.</span> <span class="toc-text">增删改查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#select"><span class="toc-number">5.1.</span> <span class="toc-text">SELECT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#update"><span class="toc-number">5.2.</span> <span class="toc-text">UPDATE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insert"><span class="toc-number">5.3.</span> <span class="toc-text">INSERT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delete"><span class="toc-number">5.4.</span> <span class="toc-text">DELETE</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#where"><span class="toc-number">6.</span> <span class="toc-text">WHERE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#and-or-%E5%92%8C-not"><span class="toc-number">7.</span> <span class="toc-text">AND, OR 和 NOT</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#and"><span class="toc-number">7.1.</span> <span class="toc-text">AND</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#or"><span class="toc-number">7.2.</span> <span class="toc-text">OR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#not"><span class="toc-number">7.3.</span> <span class="toc-text">NOT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#and-or-not"><span class="toc-number">7.4.</span> <span class="toc-text">AND &amp; OR &amp; NOT</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#order-by"><span class="toc-number">8.</span> <span class="toc-text">ORDER BY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#group-by"><span class="toc-number">9.</span> <span class="toc-text">GROUP BY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#in"><span class="toc-number">10.</span> <span class="toc-text">IN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#union"><span class="toc-number">11.</span> <span class="toc-text">UNION</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#between"><span class="toc-number">12.</span> <span class="toc-text">BETWEEN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#as"><span class="toc-number">13.</span> <span class="toc-text">AS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#join"><span class="toc-number">14.</span> <span class="toc-text">JOIN</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#inner-join"><span class="toc-number">14.1.</span> <span class="toc-text">INNER JOIN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#left-join"><span class="toc-number">14.2.</span> <span class="toc-text">LEFT JOIN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#right-join"><span class="toc-number">14.3.</span> <span class="toc-text">RIGHT JOIN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#full-outer-join"><span class="toc-number">14.4.</span> <span class="toc-text">FULL OUTER JOIN</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql-%E5%87%BD%E6%95%B0"><span class="toc-number">15.</span> <span class="toc-text">SQL 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#count"><span class="toc-number">15.1.</span> <span class="toc-text">COUNT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#avg"><span class="toc-number">15.2.</span> <span class="toc-text">AVG</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sum"><span class="toc-number">15.3.</span> <span class="toc-text">SUM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#max"><span class="toc-number">15.4.</span> <span class="toc-text">MAX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#min"><span class="toc-number">15.5.</span> <span class="toc-text">MIN</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">16.</span> <span class="toc-text">触发器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95"><span class="toc-number">17.</span> <span class="toc-text">添加索引</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95-index"><span class="toc-number">17.1.</span> <span class="toc-text">普通索引(INDEX)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95-primary-key"><span class="toc-number">17.2.</span> <span class="toc-text">主键索引(PRIMARY key)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95-unique"><span class="toc-number">17.3.</span> <span class="toc-text">唯一索引(UNIQUE)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95-fulltext"><span class="toc-number">17.4.</span> <span class="toc-text">全文索引(FULLTEXT)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%A4%9A%E5%88%97%E7%B4%A2%E5%BC%95"><span class="toc-number">17.5.</span> <span class="toc-text">添加多列索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95%E7%9A%84%E6%97%B6%E6%9C%BA"><span class="toc-number">17.6.</span> <span class="toc-text">建立索引的时机</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%90%8E%E8%A1%A8%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">18.</span> <span class="toc-text">创建后表的修改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%88%97"><span class="toc-number">18.1.</span> <span class="toc-text">添加列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%88%97"><span class="toc-number">18.2.</span> <span class="toc-text">修改列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%88%97"><span class="toc-number">18.3.</span> <span class="toc-text">删除列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%91%BD%E5%90%8D%E8%A1%A8"><span class="toc-number">18.4.</span> <span class="toc-text">重命名表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%A9%BA%E8%A1%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">18.5.</span> <span class="toc-text">清空表数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B4%E5%BC%A0%E8%A1%A8"><span class="toc-number">18.6.</span> <span class="toc-text">删除整张表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B4%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">18.7.</span> <span class="toc-text">删除整个数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E5%AE%9E%E4%BE%8B"><span class="toc-number">19.</span> <span class="toc-text">其它实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sql%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E8%AE%B0%E5%BD%95"><span class="toc-number">19.1.</span> <span class="toc-text">SQL删除重复记录</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><a href="https://icp.gov.moe/?keyword=20245021" target="_blank">萌ICP备20245021号</a><div class="copyright">&copy;2023 - 2024 By 稚</div><div class="footer_custom_text">初见乍惊欢,久处亦怦然</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight,500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://npm.elemecdn.com/medium-zoom@latest/dist/medium-zoom.min.js"></script><script src="https://npm.elemecdn.com/vanilla-lazyload@latest/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"ams"},chtml:{scale:1.1},options:{renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const a=!!e.type.match(/; *mode=display/),n=new t.options.MathItem(e.textContent,t.inputJax[0],a),s=document.createTextNode("");e.parentNode.replaceChild(s,e),n.start={node:s,delim:"",n:0},n.end={node:s,delim:"",n:0},t.math.push(n)}},""],insertScript:[200,()=>{document.querySelectorAll("mjx-container").forEach((t=>{t.hasAttribute("display")?btf.wrap(t,"div",{class:"mathjax-overflow"}):btf.wrap(t,"span",{class:"mathjax-overflow"})}))},"",!1]}}};const t=document.createElement("script");t.src="https://npm.elemecdn.com/mathjax@latest/es5/tex-mml-chtml.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}</script><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://issus.aboyzy.top",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))},o=()=>{"object"!=typeof twikoo?getScript("https://cdn.staticfile.org/twikoo/1.6.31/twikoo.all.min.js").then(t):setTimeout(t,0)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script></div><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="https://jsd.cdn.zzko.cn/gh/aboyzy/pic_tuchuang/js/console.js"></script><div class="aplayer no-destroy" data-id="7552069168" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listfolded="false" data-order="random" data-lrctype="1" data-preload="none" data-autoplay="false" muted></div><script defer data-pjax src="https://jsd.cdn.zzko.cn/gh/aboyzy/pic_tuchuang/js/cat.js"></script><script src="https://npm.elemecdn.com/butterfly-extsrc@latest/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><link rel="stylesheet" href="https://npm.elemecdn.com/aplayer@latest/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://npm.elemecdn.com/aplayer@latest/dist/APlayer.min.js"></script><script src="https://npm.elemecdn.com/butterfly-extsrc@latest/metingjs/dist/Meting.min.js"></script><script src="https://npm.elemecdn.com/pjax@latest/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script></div><script async src="https://at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script></body></html>